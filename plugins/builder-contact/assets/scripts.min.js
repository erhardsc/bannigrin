(function(b){function a(c){var d={action:"builder_contact_send","contact-name":b('[name="contact-name"]',c).val(),"contact-email":b('[name="contact-email"]',c).val(),"contact-subject":b('[name="contact-subject"]',c).val(),"contact-message":b('[name="contact-message"]',c).val(),"contact-sendcopy":b('[name="send-copy"]',c).val(),"contact-settings":b(".builder-contact-form-data",c).html()};if(c.find('[name="g-recaptcha-response"]').length>0){d["contact-recaptcha"]=c.find('[name="g-recaptcha-response"]').val()}b.ajax({url:c.prop("action"),method:"POST",data:d,dataType:"json",success:function(e){if(e&&e.themify_message){c.find(".contact-message").html(e.themify_message).fadeIn();c.removeClass("sending");if(e.themify_success){b("body").trigger("builder_contact_message_sent",[c,e.themify_message]);c[0].reset()}else{b("body").trigger("builder_contact_message_failed",[c,e.themify_message])}if(typeof grecaptcha==="object"){grecaptcha.reset()}}}})}b(document).ready(function(){if(b("form.builder-contact").length>0){function c(){b("body").on("submit",".builder-contact",function(d){d.preventDefault();if(b(this).hasClass("sending")){return false}b(this).addClass("sending").find(".contact-message").fadeOut();a(b(this))})}if(b(".builder-contact-field-captcha").length>0){if(typeof grecaptcha==="undefined"){Themify.LoadAsync("//www.google.com/recaptcha/api.js",c,"",true,function(){return typeof grecaptcha!=="undefined"})}else{c()}}else{c()}}})}(jQuery));